---
import BaseLayout from './BaseLayout.astro';
import { siteConfig } from '../data/site';

interface Props {
  title: string;
  description: string;
  seoTitle?: string;
  seoDescription?: string;
  heroImage?: string;
  category: string;
  relatedPost?: string;
}

const {
  title,
  description,
  seoTitle,
  seoDescription,
  heroImage,
  category,
} = Astro.props;

const categoryLabels: Record<string, string> = {
  corporales: 'Procedimientos Corporales',
  faciales: 'Procedimientos Faciales',
  intimos: 'Procedimientos Íntimos',
};

const categoryHrefs: Record<string, string> = {
  corporales: '/procedimientos-corporales/',
  faciales: '/procedimientos-faciales/',
  intimos: '/procedimientos-intimos/',
};
---

<BaseLayout
  title={seoTitle || title}
  description={seoDescription || description}
  image={heroImage}
>
  <!-- Hero -->
  <section class="relative overflow-hidden bg-primary-950 pt-32 pb-20 md:pt-40 md:pb-28">
    {heroImage && (
      <img
        src={heroImage}
        alt=""
        class="absolute inset-0 h-full w-full object-cover opacity-20"
        loading="eager"
        decoding="async"
      />
    )}
    <div class="absolute inset-0 bg-gradient-to-br from-primary-950/90 via-primary-900/80 to-primary-800/70" />
    <div class="relative mx-auto max-w-4xl px-6 text-center">
      <!-- Breadcrumb -->
      <nav class="mb-6 flex items-center justify-center gap-2 text-sm text-primary-300" aria-label="Breadcrumb">
        <a href="/" class="hover:text-white transition-colors">Inicio</a>
        <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
        </svg>
        <a href={categoryHrefs[category]} class="hover:text-white transition-colors">
          {categoryLabels[category]}
        </a>
        <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
        </svg>
        <span class="text-white">{title}</span>
      </nav>
      <h1 class="font-display text-3xl font-bold text-white md:text-5xl">{title}</h1>
      <p class="mt-4 text-lg text-primary-200 md:text-xl">{description}</p>
    </div>
  </section>

  <!-- Content -->
  <section class="mx-auto max-w-4xl px-6 py-16 md:py-24">
    <div class="prose prose-lg mx-auto">
      <slot />
    </div>

    <!-- CTA -->
    <div class="mt-16 rounded-2xl bg-gradient-to-r from-primary-600 to-primary-700 p-8 text-center md:p-12">
      <h2 class="font-display text-2xl font-bold text-white md:text-3xl">
        ¿Te interesa este procedimiento?
      </h2>
      <p class="mt-3 text-primary-100">
        Agenda una evaluación gratuita y sin compromiso con nuestros especialistas.
      </p>
      <a
        href={siteConfig.contact.whatsappHref}
        target="_blank"
        rel="noopener noreferrer"
        class="mt-6 inline-flex items-center gap-2 rounded-full bg-white px-8 py-3.5 text-base font-semibold text-primary-700 transition-transform hover:scale-105"
      >
        <svg class="h-5 w-5 text-[#25d366]" fill="currentColor" viewBox="0 0 24 24">
          <path d="M3.516 3.516c4.686-4.686 12.284-4.686 16.97 0s4.686 12.283 0 16.97a12 12 0 0 1-13.754 2.299l-5.814.735a.392.392 0 0 1-.438-.44l.748-5.788A12 12 0 0 1 3.517 3.517zm3.61 17.043.3.158a9.85 9.85 0 0 0 11.534-1.758c3.843-3.843 3.843-10.074 0-13.918s-10.075-3.843-13.918 0a9.85 9.85 0 0 0-1.747 11.554l.16.303-.51 3.942a.196.196 0 0 0 .219.22zm6.534-7.003-.933 1.164a9.84 9.84 0 0 1-3.497-3.495l1.166-.933a.79.79 0 0 0 .23-.94L9.561 6.96a.79.79 0 0 0-.924-.445l-2.023.524a.797.797 0 0 0-.588.88 11.754 11.754 0 0 0 10.005 10.005.797.797 0 0 0 .88-.587l.525-2.023a.79.79 0 0 0-.445-.923L14.6 13.327a.79.79 0 0 0-.94.23z" />
        </svg>
        Agenda tu Evaluación Gratuita
      </a>
    </div>
  </section>
</BaseLayout>
