---
import { siteConfig } from '../data/site';
---

<div class="fixed bottom-6 right-6 z-50">
  <a
    href={siteConfig.contact.whatsappHref}
    target="_blank"
    rel="noopener noreferrer"
    aria-label="Escríbenos por WhatsApp"
    class="group relative flex h-14 w-14 items-center justify-center rounded-full bg-[#25d366] shadow-[0_4px_24px_rgba(37,211,102,0.4)] transition-all duration-300 hover:scale-105 hover:shadow-[0_6px_32px_rgba(37,211,102,0.5)]"
  >
    <!-- Pulse ring -->
    <span class="absolute inset-0 animate-wa-ping rounded-full bg-[#25d366]/40" />

    <!-- Tooltip (positioned left of button) -->
    <span class="pointer-events-none absolute right-full mr-3 hidden whitespace-nowrap rounded-lg bg-neutral-900 px-3 py-1.5 text-sm font-medium text-white opacity-0 shadow-lg transition-all duration-300 group-hover:opacity-100 sm:block" aria-hidden="true">
      ¿Necesitas ayuda?
    </span>

    <!-- Icon -->
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="white"
      class="relative h-7 w-7"
    >
      <path d="M3.516 3.516c4.686-4.686 12.284-4.686 16.97 0s4.686 12.283 0 16.97a12 12 0 0 1-13.754 2.299l-5.814.735a.392.392 0 0 1-.438-.44l.748-5.788A12 12 0 0 1 3.517 3.517zm3.61 17.043.3.158a9.85 9.85 0 0 0 11.534-1.758c3.843-3.843 3.843-10.074 0-13.918s-10.075-3.843-13.918 0a9.85 9.85 0 0 0-1.747 11.554l.16.303-.51 3.942a.196.196 0 0 0 .219.22zm6.534-7.003-.933 1.164a9.84 9.84 0 0 1-3.497-3.495l1.166-.933a.79.79 0 0 0 .23-.94L9.561 6.96a.79.79 0 0 0-.924-.445l-2.023.524a.797.797 0 0 0-.588.88 11.754 11.754 0 0 0 10.005 10.005.797.797 0 0 0 .88-.587l.525-2.023a.79.79 0 0 0-.445-.923L14.6 13.327a.79.79 0 0 0-.94.23z" />
    </svg>
  </a>
</div>

<style>
  @keyframes wa-ping {
    0% {
      transform: scale(1);
      opacity: 0.4;
    }
    70% {
      transform: scale(1.6);
      opacity: 0;
    }
    100% {
      transform: scale(1.6);
      opacity: 0;
    }
  }

  .animate-wa-ping {
    animation: wa-ping 2.5s cubic-bezier(0, 0, 0.2, 1) infinite;
  }
</style>
